<!DOCTYPE html>
<html class="no-js" lang="en-us">
<head>
	<meta charset="UTF-8">
	<meta name="viewport" content="width=device-width, initial-scale=1">
	<meta http-equiv="X-UA-Compatible" content="IE=edge">
	<title>Problems of Slow and Fast Pointer in Linked List - Guohao Zhang&#39;s Blog</title>
	<script>(function(d,e){d[e]=d[e].replace("no-js","js");})(document.documentElement,"className");</script>
	<meta name="description" content="">
	<meta property="og:title" content="Problems of Slow and Fast Pointer in Linked List" />
<meta property="og:description" content="A problem set of Slow and Fast Pointer in Linked List problems." />
<meta property="og:type" content="article" />
<meta property="og:url" content="/leetcode/problems-of-slow-and-fast-pointer-in-linked-list/" />
<meta property="article:published_time" content="2020-01-15T10:01:07+08:00" />
<meta property="article:modified_time" content="2020-01-15T10:01:07+08:00" />

	
	<link rel="dns-prefetch" href="//fonts.googleapis.com">
	<link rel="dns-prefetch" href="//fonts.gstatic.com">
	<link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Open+Sans:400,400i,700">
	<link rel="stylesheet" href="/css/style.css">
	
	<link rel="shortcut icon" href="/favicon.ico">
		
<script type="application/javascript">
var doNotTrack = false;
if (!doNotTrack) {
	window.ga=window.ga||function(){(ga.q=ga.q||[]).push(arguments)};ga.l=+new Date;
	ga('create', 'UA-156444600-1', 'auto');
	
	ga('send', 'pageview');
}
</script>
<script async src='https://www.google-analytics.com/analytics.js'></script>

</head>
<body class="body">
	<div class="container container--outer">
		<header class="header">
	<div class="container">
		<div class="logo">
			<a class="logo__link" href="/" title="Guohao Zhang&#39;s Blog" rel="home">
				<div class="logo__title">Guohao Zhang&#39;s Blog</div>
				<div class="logo__tagline">Another me in a foreign land</div>
			</a>
		</div>
		<div class="divider"></div>
	</div>
</header>
		<div class="wrapper flex">
			<div class="primary">
			
<main class="main" role="main">
	<article class="post">
		<header class="post__header">
			<h1 class="post__title">Problems of Slow and Fast Pointer in Linked List</h1>
			<div class="post__meta meta">
<div class="meta__item-datetime meta__item">
	<svg class="meta__icon icon icon-time" width="16" height="14" viewBox="0 0 30 28"><path d="M15 0C7 0 1 6 1 14s6 14 14 14 14-6 14-14S23 0 15 0zm0 25C9 25 4 20 4 14S9 3 15 3s11 5 11 11-5 11-11 11zm1-18h-2v8.4l6.8 4.4L22 18l-6-3.8V7z"/></svg>
	<time class="meta__text" datetime="2020-01-15T10:01:07">2020-01-15</time>
</div>

<div class="meta__item-categories meta__item">
	<svg class="meta__icon icon icon-category" width="16" height="16" viewBox="0 0 16 16"><path d="m7 2l1 2h8v11h-16v-13z"/></svg>
	<span class="meta__text"><a class="meta__link" href="/categories/leetcode/" rel="category">LeetCode</a>
	</span>
</div></div>
		</header><div class="content post__content clearfix">
			<h2 id="141-linked-list-cycle">141. Linked List Cycle</h2>
<div class="highlight"><pre style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-java" data-lang="java"><span style="color:#75715e">/**
</span><span style="color:#75715e"> * Definition for singly-linked list.
</span><span style="color:#75715e"> * class ListNode {
</span><span style="color:#75715e"> *     int val;
</span><span style="color:#75715e"> *     ListNode next;
</span><span style="color:#75715e"> *     ListNode(int x) {
</span><span style="color:#75715e"> *         val = x;
</span><span style="color:#75715e"> *         next = null;
</span><span style="color:#75715e"> *     }
</span><span style="color:#75715e"> * }
</span><span style="color:#75715e"> */</span>
<span style="color:#66d9ef">public</span> <span style="color:#66d9ef">class</span> <span style="color:#a6e22e">Solution</span> <span style="color:#f92672">{</span>
    <span style="color:#66d9ef">public</span> <span style="color:#66d9ef">boolean</span> <span style="color:#a6e22e">hasCycle</span><span style="color:#f92672">(</span>ListNode head<span style="color:#f92672">)</span> <span style="color:#f92672">{</span>
        <span style="color:#75715e">// len == 0 || len == 1
</span><span style="color:#75715e"></span>        <span style="color:#66d9ef">if</span> <span style="color:#f92672">(</span>head <span style="color:#f92672">=</span><span style="color:#f92672">=</span> <span style="color:#66d9ef">null</span> <span style="color:#f92672">|</span><span style="color:#f92672">|</span> head<span style="color:#f92672">.</span><span style="color:#a6e22e">next</span> <span style="color:#f92672">=</span><span style="color:#f92672">=</span> <span style="color:#66d9ef">null</span><span style="color:#f92672">)</span> <span style="color:#f92672">{</span>
            <span style="color:#66d9ef">return</span> <span style="color:#66d9ef">false</span><span style="color:#f92672">;</span>
        <span style="color:#f92672">}</span>
        ListNode slow <span style="color:#f92672">=</span> head<span style="color:#f92672">;</span>
        ListNode fast <span style="color:#f92672">=</span> head<span style="color:#f92672">;</span>
        <span style="color:#75715e">// if the fast pointer or the next of fast pointer
</span><span style="color:#75715e"></span>        <span style="color:#75715e">// reaches to null, end this loop
</span><span style="color:#75715e"></span>        <span style="color:#66d9ef">while</span> <span style="color:#f92672">(</span>fast <span style="color:#f92672">!</span><span style="color:#f92672">=</span> <span style="color:#66d9ef">null</span> <span style="color:#f92672">&amp;</span><span style="color:#f92672">&amp;</span> fast<span style="color:#f92672">.</span><span style="color:#a6e22e">next</span> <span style="color:#f92672">!</span><span style="color:#f92672">=</span> <span style="color:#66d9ef">null</span><span style="color:#f92672">)</span> <span style="color:#f92672">{</span>
            slow <span style="color:#f92672">=</span> slow<span style="color:#f92672">.</span><span style="color:#a6e22e">next</span><span style="color:#f92672">;</span>
            fast <span style="color:#f92672">=</span> fast<span style="color:#f92672">.</span><span style="color:#a6e22e">next</span><span style="color:#f92672">.</span><span style="color:#a6e22e">next</span><span style="color:#f92672">;</span>
            <span style="color:#66d9ef">if</span> <span style="color:#f92672">(</span>slow <span style="color:#f92672">=</span><span style="color:#f92672">=</span> fast<span style="color:#f92672">)</span> <span style="color:#f92672">{</span>
                <span style="color:#66d9ef">return</span> <span style="color:#66d9ef">true</span><span style="color:#f92672">;</span>
            <span style="color:#f92672">}</span>
        <span style="color:#f92672">}</span>
        <span style="color:#66d9ef">return</span> <span style="color:#66d9ef">false</span><span style="color:#f92672">;</span>
    <span style="color:#f92672">}</span>
<span style="color:#f92672">}</span>
</code></pre></div><h2 id="142-linked-list-cycle-ii">142. Linked List Cycle II</h2>
<blockquote>
<p>Given a linked list, return the node where the cycle begins. If there is no cycle, return <code>null</code>.</p>
</blockquote>
<p>If there is cycle in a given linked list, pointers with step size of 1 and 2 will eventually meet. When they meet, <code>2 * distance(slow) = distance(fast)</code>.</p>
<p>Let's assume that the pointers walk around the cycle (if it exists) clockwise.</p>
<ul>
<li>
<p><code>F</code> : the distance from head to the cycle entrance</p>
</li>
<li>
<p><code>a</code>: the distance from cycle entrance to intersection</p>
</li>
<li>
<p><code>b</code>: the distance from intersection to cycle entrance</p>
</li>
</ul>
<p>Thus <code>2 * (F + a) = F + N(a + b) + a</code>, then <code>F = b + (N - 1)(a + b)</code>. After we find the intersection, let one pointer go from the intersection and the other from <code>head</code>, both of them have a same step size. We will get the cycle entrance when they meet.</p>
<div class="highlight"><pre style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-java" data-lang="java"><span style="color:#75715e">/**
</span><span style="color:#75715e"> * Definition for singly-linked list.
</span><span style="color:#75715e"> * class ListNode {
</span><span style="color:#75715e"> *     int val;
</span><span style="color:#75715e"> *     ListNode next;
</span><span style="color:#75715e"> *     ListNode(int x) {
</span><span style="color:#75715e"> *         val = x;
</span><span style="color:#75715e"> *         next = null;
</span><span style="color:#75715e"> *     }
</span><span style="color:#75715e"> * }
</span><span style="color:#75715e"> */</span>
<span style="color:#66d9ef">public</span> <span style="color:#66d9ef">class</span> <span style="color:#a6e22e">Solution</span> <span style="color:#f92672">{</span>
    <span style="color:#66d9ef">public</span> ListNode <span style="color:#a6e22e">detectCycle</span><span style="color:#f92672">(</span>ListNode head<span style="color:#f92672">)</span> <span style="color:#f92672">{</span>
        <span style="color:#75715e">// corner case
</span><span style="color:#75715e"></span>        <span style="color:#66d9ef">if</span> <span style="color:#f92672">(</span>head <span style="color:#f92672">=</span><span style="color:#f92672">=</span> <span style="color:#66d9ef">null</span><span style="color:#f92672">)</span> <span style="color:#f92672">{</span>
            <span style="color:#66d9ef">return</span> <span style="color:#66d9ef">null</span><span style="color:#f92672">;</span>
        <span style="color:#f92672">}</span>
        
        <span style="color:#75715e">// phase 1: find the intersection
</span><span style="color:#75715e"></span>        ListNode slow <span style="color:#f92672">=</span> head<span style="color:#f92672">;</span>
        ListNode fast <span style="color:#f92672">=</span> head<span style="color:#f92672">;</span>
        ListNode intersection <span style="color:#f92672">=</span> <span style="color:#66d9ef">null</span><span style="color:#f92672">;</span>
        <span style="color:#66d9ef">while</span> <span style="color:#f92672">(</span>fast <span style="color:#f92672">!</span><span style="color:#f92672">=</span> <span style="color:#66d9ef">null</span> <span style="color:#f92672">&amp;</span><span style="color:#f92672">&amp;</span> fast<span style="color:#f92672">.</span><span style="color:#a6e22e">next</span> <span style="color:#f92672">!</span><span style="color:#f92672">=</span> <span style="color:#66d9ef">null</span><span style="color:#f92672">)</span> <span style="color:#f92672">{</span>
            slow <span style="color:#f92672">=</span> slow<span style="color:#f92672">.</span><span style="color:#a6e22e">next</span><span style="color:#f92672">;</span>
            fast <span style="color:#f92672">=</span> fast<span style="color:#f92672">.</span><span style="color:#a6e22e">next</span><span style="color:#f92672">.</span><span style="color:#a6e22e">next</span><span style="color:#f92672">;</span>
            <span style="color:#66d9ef">if</span> <span style="color:#f92672">(</span>slow <span style="color:#f92672">=</span><span style="color:#f92672">=</span> fast<span style="color:#f92672">)</span> <span style="color:#f92672">{</span>
                intersection <span style="color:#f92672">=</span> fast<span style="color:#f92672">;</span>
                <span style="color:#66d9ef">break</span><span style="color:#f92672">;</span>
            <span style="color:#f92672">}</span>
        <span style="color:#f92672">}</span>
        <span style="color:#66d9ef">if</span> <span style="color:#f92672">(</span>intersection <span style="color:#f92672">=</span><span style="color:#f92672">=</span> <span style="color:#66d9ef">null</span><span style="color:#f92672">)</span> <span style="color:#f92672">{</span>
            <span style="color:#66d9ef">return</span> <span style="color:#66d9ef">null</span><span style="color:#f92672">;</span>
        <span style="color:#f92672">}</span>
        
        <span style="color:#75715e">// phase 2: find the cycle entrance
</span><span style="color:#75715e"></span>        ListNode ptr1 <span style="color:#f92672">=</span> head<span style="color:#f92672">;</span>
        ListNode ptr2 <span style="color:#f92672">=</span> intersection<span style="color:#f92672">;</span>
        <span style="color:#66d9ef">while</span> <span style="color:#f92672">(</span>ptr1 <span style="color:#f92672">!</span><span style="color:#f92672">=</span> ptr2<span style="color:#f92672">)</span> <span style="color:#f92672">{</span>
            ptr1 <span style="color:#f92672">=</span> ptr1<span style="color:#f92672">.</span><span style="color:#a6e22e">next</span><span style="color:#f92672">;</span>
            ptr2 <span style="color:#f92672">=</span> ptr2<span style="color:#f92672">.</span><span style="color:#a6e22e">next</span><span style="color:#f92672">;</span>
        <span style="color:#f92672">}</span>
        <span style="color:#66d9ef">return</span> ptr1<span style="color:#f92672">;</span>
    <span style="color:#f92672">}</span>
<span style="color:#f92672">}</span>
</code></pre></div><h2 id="19-remove-nth-node-from-end-of-list">19. Remove Nth Node From End of List</h2>
<div class="highlight"><pre style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-java" data-lang="java"><span style="color:#75715e">/**
</span><span style="color:#75715e"> * Definition for singly-linked list.
</span><span style="color:#75715e"> * public class ListNode {
</span><span style="color:#75715e"> *     int val;
</span><span style="color:#75715e"> *     ListNode next;
</span><span style="color:#75715e"> *     ListNode(int x) { val = x; }
</span><span style="color:#75715e"> * }
</span><span style="color:#75715e"> */</span>
<span style="color:#66d9ef">class</span> <span style="color:#a6e22e">Solution</span> <span style="color:#f92672">{</span>
    <span style="color:#66d9ef">public</span> ListNode <span style="color:#a6e22e">removeNthFromEnd</span><span style="color:#f92672">(</span>ListNode head<span style="color:#f92672">,</span> <span style="color:#66d9ef">int</span> n<span style="color:#f92672">)</span> <span style="color:#f92672">{</span>
        ListNode dummy <span style="color:#f92672">=</span> <span style="color:#66d9ef">new</span> ListNode<span style="color:#f92672">(</span>42<span style="color:#f92672">)</span><span style="color:#f92672">;</span>
        dummy<span style="color:#f92672">.</span><span style="color:#a6e22e">next</span> <span style="color:#f92672">=</span> head<span style="color:#f92672">;</span>

        <span style="color:#75715e">// example: n = 2
</span><span style="color:#75715e"></span>        <span style="color:#75715e">// dummy -&gt;  1  -&gt;  2  -&gt;  3  -&gt;  4  -&gt;  5  -&gt;  6  -&gt;
</span><span style="color:#75715e"></span>        <span style="color:#75715e">//  slow
</span><span style="color:#75715e"></span>        <span style="color:#75715e">//  fast
</span><span style="color:#75715e"></span>        ListNode slow <span style="color:#f92672">=</span> dummy<span style="color:#f92672">;</span>
        ListNode fast <span style="color:#f92672">=</span> dummy<span style="color:#f92672">;</span>

        <span style="color:#75715e">// dummy -&gt;  1  -&gt;  2  -&gt;  3  -&gt;  4  -&gt;  5  -&gt;  6  -&gt;
</span><span style="color:#75715e"></span>        <span style="color:#75715e">//  slow
</span><span style="color:#75715e"></span>        <span style="color:#75715e">//                 fast
</span><span style="color:#75715e"></span>        <span style="color:#66d9ef">for</span> <span style="color:#f92672">(</span><span style="color:#66d9ef">int</span> i <span style="color:#f92672">=</span> 0<span style="color:#f92672">;</span> i <span style="color:#f92672">&lt;</span> n<span style="color:#f92672">;</span> i<span style="color:#f92672">+</span><span style="color:#f92672">+</span><span style="color:#f92672">)</span> <span style="color:#f92672">{</span>
            fast <span style="color:#f92672">=</span> fast<span style="color:#f92672">.</span><span style="color:#a6e22e">next</span><span style="color:#f92672">;</span>
        <span style="color:#f92672">}</span>

        <span style="color:#75715e">// dummy -&gt;  1  -&gt;  2  -&gt;  3  -&gt;  4  -&gt;  5  -&gt;  6  -&gt;
</span><span style="color:#75715e"></span>        <span style="color:#75715e">//                               slow
</span><span style="color:#75715e"></span>        <span style="color:#75715e">//                                             fast
</span><span style="color:#75715e"></span>        <span style="color:#66d9ef">while</span> <span style="color:#f92672">(</span>fast<span style="color:#f92672">.</span><span style="color:#a6e22e">next</span> <span style="color:#f92672">!</span><span style="color:#f92672">=</span> <span style="color:#66d9ef">null</span><span style="color:#f92672">)</span> <span style="color:#f92672">{</span>
            slow <span style="color:#f92672">=</span> slow<span style="color:#f92672">.</span><span style="color:#a6e22e">next</span><span style="color:#f92672">;</span>
            fast <span style="color:#f92672">=</span> fast<span style="color:#f92672">.</span><span style="color:#a6e22e">next</span><span style="color:#f92672">;</span>x
        <span style="color:#f92672">}</span>

        <span style="color:#75715e">// dummy -&gt;  1  -&gt;  2  -&gt;  3  -&gt;  4  -&gt;  6  -&gt;
</span><span style="color:#75715e"></span>        <span style="color:#75715e">//                               slow
</span><span style="color:#75715e"></span>        <span style="color:#75715e">//                                      fast
</span><span style="color:#75715e"></span>        ListNode removed <span style="color:#f92672">=</span> slow<span style="color:#f92672">.</span><span style="color:#a6e22e">next</span><span style="color:#f92672">;</span>
        slow<span style="color:#f92672">.</span><span style="color:#a6e22e">next</span> <span style="color:#f92672">=</span> slow<span style="color:#f92672">.</span><span style="color:#a6e22e">next</span><span style="color:#f92672">.</span><span style="color:#a6e22e">next</span><span style="color:#f92672">;</span>
        removed<span style="color:#f92672">.</span><span style="color:#a6e22e">next</span> <span style="color:#f92672">=</span> <span style="color:#66d9ef">null</span><span style="color:#f92672">;</span>

        <span style="color:#66d9ef">return</span> dummy<span style="color:#f92672">.</span><span style="color:#a6e22e">next</span><span style="color:#f92672">;</span>
    <span style="color:#f92672">}</span>
<span style="color:#f92672">}</span>
</code></pre></div><h2 id="876-middle-of-the-linked-list">876. Middle of the Linked List</h2>
<div class="highlight"><pre style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-java" data-lang="java"><span style="color:#75715e">/**
</span><span style="color:#75715e"> * Definition for singly-linked list.
</span><span style="color:#75715e"> * public class ListNode {
</span><span style="color:#75715e"> *     int val;
</span><span style="color:#75715e"> *     ListNode next;
</span><span style="color:#75715e"> *     ListNode(int x) { val = x; }
</span><span style="color:#75715e"> * }
</span><span style="color:#75715e"> */</span>
<span style="color:#66d9ef">class</span> <span style="color:#a6e22e">Solution</span> <span style="color:#f92672">{</span>
    <span style="color:#66d9ef">public</span> ListNode <span style="color:#a6e22e">middleNode</span><span style="color:#f92672">(</span>ListNode head<span style="color:#f92672">)</span> <span style="color:#f92672">{</span>
        ListNode slow <span style="color:#f92672">=</span> head<span style="color:#f92672">;</span>
        ListNode fast <span style="color:#f92672">=</span> head<span style="color:#f92672">;</span>
        <span style="color:#66d9ef">while</span> <span style="color:#f92672">(</span>fast <span style="color:#f92672">!</span><span style="color:#f92672">=</span> <span style="color:#66d9ef">null</span> <span style="color:#f92672">&amp;</span><span style="color:#f92672">&amp;</span> fast<span style="color:#f92672">.</span><span style="color:#a6e22e">next</span> <span style="color:#f92672">!</span><span style="color:#f92672">=</span> <span style="color:#66d9ef">null</span><span style="color:#f92672">)</span> <span style="color:#f92672">{</span>
            slow <span style="color:#f92672">=</span> slow<span style="color:#f92672">.</span><span style="color:#a6e22e">next</span><span style="color:#f92672">;</span>
            fast <span style="color:#f92672">=</span> fast<span style="color:#f92672">.</span><span style="color:#a6e22e">next</span><span style="color:#f92672">.</span><span style="color:#a6e22e">next</span><span style="color:#f92672">;</span>
        <span style="color:#f92672">}</span>
        <span style="color:#66d9ef">return</span> slow<span style="color:#f92672">;</span>
    <span style="color:#f92672">}</span>
<span style="color:#f92672">}</span>
</code></pre></div><h2 id="202-happy-number">202. Happy Number</h2>
<p>If a number is a &ldquo;happy number&rdquo;, it will eventually converge to 1, otherwise it will fall into a infinite &ldquo;unhappy number&rdquo; loop.</p>
<p>Thus we can use Floyd's cycle detection algorithm to solve this problem. The slow pointer calculate the sum of digit square once per loop, and the fast pointer calculate the sum of digit square twice per loop, finally they will meet.</p>
<div class="highlight"><pre style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-java" data-lang="java"><span style="color:#66d9ef">class</span> <span style="color:#a6e22e">Solution</span> <span style="color:#f92672">{</span>
    <span style="color:#66d9ef">private</span> <span style="color:#66d9ef">int</span> <span style="color:#a6e22e">digitSquareSum</span><span style="color:#f92672">(</span><span style="color:#66d9ef">int</span> n<span style="color:#f92672">)</span> <span style="color:#f92672">{</span>
        <span style="color:#66d9ef">int</span> sum <span style="color:#f92672">=</span> 0<span style="color:#f92672">;</span>
        <span style="color:#66d9ef">while</span> <span style="color:#f92672">(</span>n <span style="color:#f92672">!</span><span style="color:#f92672">=</span> 0<span style="color:#f92672">)</span> <span style="color:#f92672">{</span>
            <span style="color:#66d9ef">int</span> tmp <span style="color:#f92672">=</span> n <span style="color:#f92672">%</span> 10<span style="color:#f92672">;</span>
            sum <span style="color:#f92672">+</span><span style="color:#f92672">=</span> tmp <span style="color:#f92672">*</span> tmp<span style="color:#f92672">;</span>
            n <span style="color:#f92672">/</span><span style="color:#f92672">=</span> 10<span style="color:#f92672">;</span>
        <span style="color:#f92672">}</span>
        <span style="color:#66d9ef">return</span> sum<span style="color:#f92672">;</span>
    <span style="color:#f92672">}</span>

    <span style="color:#66d9ef">public</span> <span style="color:#66d9ef">boolean</span> <span style="color:#a6e22e">isHappy</span><span style="color:#f92672">(</span><span style="color:#66d9ef">int</span> n<span style="color:#f92672">)</span> <span style="color:#f92672">{</span>
        <span style="color:#66d9ef">int</span> slow <span style="color:#f92672">=</span> n<span style="color:#f92672">;</span>
        <span style="color:#66d9ef">int</span> fast <span style="color:#f92672">=</span> n<span style="color:#f92672">;</span>
        <span style="color:#66d9ef">do</span> <span style="color:#f92672">{</span>
            slow <span style="color:#f92672">=</span> digitSquareSum<span style="color:#f92672">(</span>slow<span style="color:#f92672">)</span><span style="color:#f92672">;</span>
            fast <span style="color:#f92672">=</span> digitSquareSum<span style="color:#f92672">(</span>fast<span style="color:#f92672">)</span><span style="color:#f92672">;</span>
            fast <span style="color:#f92672">=</span> digitSquareSum<span style="color:#f92672">(</span>fast<span style="color:#f92672">)</span><span style="color:#f92672">;</span>
        <span style="color:#f92672">}</span> <span style="color:#66d9ef">while</span> <span style="color:#f92672">(</span>slow <span style="color:#f92672">!</span><span style="color:#f92672">=</span> fast<span style="color:#f92672">)</span><span style="color:#f92672">;</span>
        
        <span style="color:#66d9ef">return</span> slow <span style="color:#f92672">=</span><span style="color:#f92672">=</span> 1<span style="color:#f92672">;</span>
    <span style="color:#f92672">}</span>
<span style="color:#f92672">}</span>
</code></pre></div><h2 id="287-find-the-duplicate-number">287. Find the Duplicate Number</h2>
<p>If there is no duplicate in the array, the mapping <code>f(index) = num</code> must be one to one, otherwise the mapping is many to one.</p>
<p>If we linked all the mappings up we can reduce this problem to cycle detection. In an array with duplicate numbers, there must be at least two <code>indexes</code> mapped to the same <code>num</code>, one of the <code>indexes</code> belongs to the cycle, the other belongs to the &ldquo;straight line&rdquo;, thus the cycle entrance is the <code>num</code>.</p>
<div class="highlight"><pre style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-java" data-lang="java"><span style="color:#66d9ef">class</span> <span style="color:#a6e22e">Solution</span> <span style="color:#f92672">{</span>
    <span style="color:#66d9ef">public</span> <span style="color:#66d9ef">int</span> <span style="color:#a6e22e">findDuplicate</span><span style="color:#f92672">(</span><span style="color:#66d9ef">int</span><span style="color:#f92672">[</span><span style="color:#f92672">]</span> nums<span style="color:#f92672">)</span> <span style="color:#f92672">{</span>
        <span style="color:#66d9ef">int</span> slow <span style="color:#f92672">=</span> nums<span style="color:#f92672">[</span>0<span style="color:#f92672">]</span><span style="color:#f92672">;</span>
        <span style="color:#66d9ef">int</span> fast <span style="color:#f92672">=</span> nums<span style="color:#f92672">[</span>0<span style="color:#f92672">]</span><span style="color:#f92672">;</span>
        <span style="color:#66d9ef">do</span> <span style="color:#f92672">{</span>
            slow <span style="color:#f92672">=</span> nums<span style="color:#f92672">[</span>slow<span style="color:#f92672">]</span><span style="color:#f92672">;</span>
            fast <span style="color:#f92672">=</span> nums<span style="color:#f92672">[</span>nums<span style="color:#f92672">[</span>fast<span style="color:#f92672">]</span><span style="color:#f92672">]</span><span style="color:#f92672">;</span>
        <span style="color:#f92672">}</span> <span style="color:#66d9ef">while</span> <span style="color:#f92672">(</span>slow <span style="color:#f92672">!</span><span style="color:#f92672">=</span> fast<span style="color:#f92672">)</span><span style="color:#f92672">;</span>
        
        <span style="color:#66d9ef">int</span> ptr1 <span style="color:#f92672">=</span> slow<span style="color:#f92672">;</span>
        <span style="color:#66d9ef">int</span> ptr2 <span style="color:#f92672">=</span> nums<span style="color:#f92672">[</span>0<span style="color:#f92672">]</span><span style="color:#f92672">;</span>
        <span style="color:#66d9ef">while</span> <span style="color:#f92672">(</span>ptr1 <span style="color:#f92672">!</span><span style="color:#f92672">=</span> ptr2<span style="color:#f92672">)</span> <span style="color:#f92672">{</span>
            ptr1 <span style="color:#f92672">=</span> nums<span style="color:#f92672">[</span>ptr1<span style="color:#f92672">]</span><span style="color:#f92672">;</span>
            ptr2 <span style="color:#f92672">=</span> nums<span style="color:#f92672">[</span>ptr2<span style="color:#f92672">]</span><span style="color:#f92672">;</span>
        <span style="color:#f92672">}</span>
        <span style="color:#66d9ef">return</span> ptr1<span style="color:#f92672">;</span>
    <span style="color:#f92672">}</span>
<span style="color:#f92672">}</span>
</code></pre></div>
		</div>
		<footer class="post__footer">
			
<div class="post__tags tags clearfix">
	<svg class="tags__badge icon icon-tag" width="16" height="16" viewBox="0 0 32 32"><path d="M32 19c0 1-1 2-1 2L21 31s-1 1-2 1-2-1-2-1L2 16c-1-1-1.4-2-1.4-2S0 12.5 0 11V3C0 1.5.8.8.8.8S1.5 0 3 0h8c1.5 0 3 .6 3 .6S15 1 16 2l15 15s1 1 1 2zM7 10a3 3 0 1 0 0-6 3 3 0 0 0 0 6z"/></svg>
	<ul class="tags__list">
		<li class="tags__item"><a class="tags__link btn" href="/tags/linked-list/" rel="tag">Linked List</a></li>
		<li class="tags__item"><a class="tags__link btn" href="/tags/problem-set/" rel="tag">Problem Set</a></li>
	</ul>
</div>
		</footer>
	</article>
</main>


<nav class="post-nav flex">
	<div class="post-nav__item post-nav__item--prev">
		<a class="post-nav__link" href="/leetcode/4.-median-of-two-sorted-arrays/" rel="prev"><span class="post-nav__caption">«&thinsp;Previous</span><p class="post-nav__post-title">4. Median of Two Sorted Arrays</p></a>
	</div>
	<div class="post-nav__item post-nav__item--next">
		<a class="post-nav__link" href="/leetcode/160.-intersection-of-two-linked-lists/" rel="next"><span class="post-nav__caption">Next&thinsp;»</span><p class="post-nav__post-title">160. Intersection of Two Linked Lists</p></a>
	</div>
</nav>


			</div>
			
		</div>
		<footer class="footer">
	<div class="container footer__container flex">
		
		<div class="footer__copyright">
			&copy; 2020 Guohao Zhang.
			<span class="footer__copyright-credits">Generated with <a href="https://gohugo.io/" rel="nofollow noopener" target="_blank">Hugo</a> and <a href="https://github.com/Vimux/Mainroad/" rel="nofollow noopener" target="_blank">Mainroad</a> theme.</span>
		</div>
	</div>
</footer>
	</div>
<script async defer src="/js/menu.js"></script>

<script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.6/MathJax.js?config=TeX-AMS-MML_HTMLorMML" async></script>
</body>
</html>